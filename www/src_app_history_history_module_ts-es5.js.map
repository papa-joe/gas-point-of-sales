{"version":3,"sources":["webpack:///src/app/history/history-routing.module.ts","webpack:///src/app/history/history.module.ts","webpack:///src/app/history/history.page.ts","webpack:///src/app/history/history.page.scss","webpack:///src/app/history/history.page.html"],"names":["routes","path","component","HistoryPage","HistoryPageRoutingModule","NgModule","imports","RouterModule","exports","HistoryPageModule","CommonModule","FormsModule","IonicModule","declarations","network","staff_filter","type_filter","history","staffs","total","cusd","cuskg","kgt","item_filter","sale_filter","get_staffs","get_history","y","length","parseFloat","Math","trunc","stored_history","subscribe","res","error","console","log","objectArray","property","reduce","acc","obj","key","push","calc_total","f","t","data","from","to","search_history","response","d","filter","record","user","calc_ftotal","type","cphone","sale","groupedrecord","groupBy","keys","Object","ep","forEach","index","tl","qt","kg","cname","i","parseInt","quantity","item","RopeService","Component","selector","template"],"mappings":"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","file":"src_app_history_history_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HistoryPage } from './history.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HistoryPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HistoryPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HistoryPageRoutingModule } from './history-routing.module';\n\nimport { HistoryPage } from './history.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HistoryPageRoutingModule\n  ],\n  declarations: [HistoryPage]\n})\nexport class HistoryPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { RopeService } from '../rope.service';\nimport { format, parseISO } from 'date-fns';\n\n@Component({\n  selector: 'app-history',\n  templateUrl: './history.page.html',\n  styleUrls: ['./history.page.scss'],\n})\nexport class HistoryPage implements OnInit {\n\n  response: any;\n  staff_filter: string = '';\n  type_filter: string = '';\n  from: any;\n  stored_history: any;\n  to: any;\n  history = [];\n  staffs = [];\n  total = 0;\n  cusd: string = '';\n  cuskg = 0;\n  kgt = 0;\n  item_filter: string = '';\n  sale_filter: string = '';\n\n  constructor(\n    public network: RopeService\n  ) {\n\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewDidEnter() {\n    this.get_staffs();\n    this.get_history();\n  }\n\n  calc_total() {\n    this.total = 0;\n    this.kgt = 0;\n    for (var y = 0; y < this.history.length; y++) {\n      this.total += parseFloat(this.history[y]['total']);\n\n      if (this.history[y]['type'] == 'Gas') {\n        this.kgt += parseFloat(this.history[y]['item']);\n      }\n    }\n\n    this.total = Math.trunc(this.total * 100) / 100;\n  }\n\n  calc_ftotal() {\n    this.total = 0;\n    this.kgt = 0;\n    for (var y = 0; y < this.stored_history.length; y++) {\n      this.total += parseFloat(this.stored_history[y]['total']);\n\n      if (this.stored_history[y]['type'] == 'Gas') {\n        this.kgt += parseFloat(this.stored_history[y]['item']);\n      }\n    }\n\n    this.total = Math.trunc(this.total * 100) / 100;\n  }\n\n  get_staffs() {\n    this.network.get_staffs().subscribe((res: any) => {\n      // console.log(\"SUCCESS ===\",res);\n      this.staffs = res;\n      // console.log(res);\n    }, (error: any) => {\n      console.log(\"ERROR ===\", error);\n    });\n  }\n\n  groupBy(objectArray, property) {\n    return objectArray.reduce(function (acc, obj) {\n      let key = obj[property]\n      if (!acc[key]) {\n        acc[key] = []\n      }\n      acc[key].push(obj)\n      return acc\n    }, {})\n  }\n\n  get_history() {\n    this.network.get_history().subscribe((res: any) => {\n      // console.log(\"SUCCESS ===\",res);\n      this.stored_history = res;\n      this.history = this.stored_history;\n      this.calc_total();\n\n    }, (error: any) => {\n      console.log(\"ERROR ===\", error);\n    });\n  }\n\n  search_history(f, t) {\n    let data = {\n      from: format(parseISO(f), 'yyyy-MM-d'),\n      to: format(parseISO(t), 'yyyy-MM-d')\n    }\n    this.network.search_history(data).subscribe((res: any) => {\n      // console.log(\"SUCCESS ===\",res);\n      if (res == \"error\") {\n        this.response = \"email or password is wrong\";\n      } else {\n        this.stored_history = res;\n        this.history = res;\n        this.calc_total();\n        console.log(this.history);\n      }\n    }, (error: any) => {\n      console.log(\"ERROR ===\", error);\n    });\n  }\n\n\n\n  filter_history(d) {\n\n    this.stored_history = this.history;\n\n    if (this.staff_filter != '') {\n      this.stored_history = this.stored_history.filter(record => record.user === this.staff_filter);\n      // console.log(this.history);\n      this.calc_ftotal();\n    }\n\n    if (this.type_filter != '') {\n      this.stored_history = this.stored_history.filter(record => record.type === this.type_filter);\n      // console.log(this.history);\n      this.calc_ftotal();\n    }\n\n    if (this.cusd != '') {\n      this.stored_history = this.stored_history.filter(record => record.cphone === this.cusd);\n      // console.log(this.history);\n      this.calc_ftotal();\n    }\n\n    if (this.item_filter != '') {\n      this.stored_history = this.stored_history.filter(record => record.type === this.item_filter);\n      // console.log(this.history);\n      this.calc_ftotal();\n    }\n\n    if (this.sale_filter != '') {\n      this.stored_history = this.stored_history.filter(record => record.sale === this.sale_filter);\n      // console.log(this.history);\n      this.calc_ftotal();\n    }\n\n    if (this.cuskg != 0) {\n      let groupedrecord = this.groupBy(this.stored_history, 'cphone');\n      // console.log(groupedPeople);\n\n      // console.log('length = ' + Object.keys(groupedPeople).length);\n\n      const keys = Object.keys(groupedrecord);\n      let ep = [];\n\n      keys.forEach((key, index) => {\n        // console.log(`${key}: ${groupedPeople[key]}`);\n\n        let tl = 0;\n        let qt = 0;\n        let kg = 0;\n        let cname = '';\n\n        for (var i = 0; i < groupedrecord[key].length; i++) {\n          if (groupedrecord[key][i].type == 'Gas' && groupedrecord[key][i].cphone != '') {\n            tl += parseInt(groupedrecord[key][i].total);\n            qt += parseInt(groupedrecord[key][i].quantity);\n            kg += parseInt(groupedrecord[key][i].item);\n            cname = groupedrecord[key][i].cname;\n          }\n\n\n        }\n        if (kg >= this.cuskg) {\n          ep.push({ 'type': 'Gas', 'cphone': key, 'item': kg, 'quantity': qt, 'total': tl, cname: cname });\n        }\n\n        this.stored_history = ep;\n\n      });\n      this.calc_ftotal();\n    }\n  }\n\n}\n","export default \".col-md-6, .ip {\\n  margin-bottom: 9px;\\n}\\n\\n.back {\\n  padding-left: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhpc3RvcnkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7QUFDSjs7QUFDQTtFQUNJLGtCQUFBO0FBRUoiLCJmaWxlIjoiaGlzdG9yeS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29sLW1kLTYsIC5pcHtcclxuICAgIG1hcmdpbi1ib3R0b206IDlweDtcclxufVxyXG4uYmFja3tcclxuICAgIHBhZGRpbmctbGVmdDogMjBweDtcclxufSJdfQ== */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\" routerLink=\\\"/admin-dashboard\\\" routerDirection=\\\"back\\\" class=\\\"back\\\">\\n      <ion-icon name=\\\"arrow-back-outline\\\"></ion-icon>\\n      <ion-button text=\\\"\\\" icon=\\\"add\\\">BACK</ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"container-scroller\\\">\\n    <!-- partial:partials/_navbar.html -->\\n\\n    <!-- partial -->\\n    <div class=\\\"container-fluid page-body-wrapper\\\" style=\\\"min-height: 700px;\\\">\\n      <!-- partial:partials/_sidebar.html -->\\n\\n      <!-- partial -->\\n      <div class=\\\"main-panel\\\" style=\\\"width:100%;\\\">\\n        <div class=\\\"content-wrapper\\\" style=\\\"padding: 0px !important;\\\">\\n\\n\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"card\\\">\\n                <div class=\\\"card-body\\\" style=\\\"padding-right: 10px !important;padding-left: 10px !important;\\\">\\n                  <h4 class=\\\"card-title\\\">Search Records</h4>\\n\\n                  <div class=\\\"form-sample\\\">\\n                    <p class=\\\"red\\\" style=\\\"color:red;\\\">{{response}}</p>\\n                    <div class=\\\"row\\\">\\n                      <div class=\\\"col-md-6\\\">\\n                        <ion-item>\\n                          <ion-label>DD MM YY</ion-label>\\n                          <ion-datetime [(ngModel)]=\\\"from\\\" displayFormat=\\\"D-MM-YYYY\\\" min=\\\"2021\\\"></ion-datetime>\\n                        </ion-item>\\n                      </div>\\n                      <div class=\\\"col-md-6\\\">\\n                        <ion-item>\\n                          <ion-label>DD MM YY</ion-label>\\n                          <ion-datetime [(ngModel)]=\\\"to\\\" displayFormat=\\\"D-MM-YYYY\\\" min=\\\"2021\\\"></ion-datetime>\\n                        </ion-item>\\n                      </div>\\n\\n                      <div class=\\\"col-md-6\\\">\\n                        <ion-button (click)=\\\"search_history(from, to)\\\" color=\\\"primary\\\">SEARCH\\n                        </ion-button>\\n                      </div>\\n                    </div>\\n\\n\\n\\n\\n\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n\\n\\n\\n\\n\\n            <div class=\\\"col-lg-12 grid-margin stretch-card\\\">\\n              <div class=\\\"card\\\">\\n                <div class=\\\"card-body\\\" style=\\\"padding-right: 10px !important;padding-left: 10px !important;\\\">\\n\\n\\n                  <ion-list>\\n                    <ion-item>\\n                    <ion-label class=\\\"ion-text-wrap\\\">\\n                      <ion-text color=\\\"primary\\\">\\n                        <h3>Total NGN:</h3>\\n                      </ion-text>\\n                      <p>{{total}}</p>\\n                    </ion-label>\\n                    </ion-item>\\n\\n                    <ion-item>\\n                      <ion-label class=\\\"ion-text-wrap\\\">\\n                        <ion-text color=\\\"primary\\\">\\n                          <h3>Total KG:</h3>\\n                        </ion-text>\\n                        <p>{{kgt}}</p>\\n                      </ion-label>\\n                      </ion-item>\\n                  </ion-list>\\n                  <h4 class=\\\"card-title\\\">Records</h4>\\n                  <div class=\\\"form-inline\\\">\\n\\n                    <div class=\\\"input-group mb-2 mr-sm-4\\\">\\n                      <div class=\\\"form-sample\\\">\\n                        <div class=\\\"row\\\">\\n                          <div class=\\\"col-md-6\\\">\\n                            <label style=\\\"color: black;\\\">Staff</label>\\n                            <select (change)=\\\"filter_history('staff')\\\" [(ngModel)]=\\\"staff_filter\\\" class=\\\"form-control\\\"\\n                              id=\\\"inlineFormInputGroupUsername2\\\">\\n                              <option>Filter by staff</option>\\n                              <option value=\\\"\\\">All staffs</option>\\n                              <option value=\\\"Admin\\\">Admin</option>\\n                              <option *ngFor=\\\"let staff of staffs\\\" value=\\\"{{staff.id}}\\\">{{staff.fname}} {{staff.lname}}\\n                              </option>\\n                            </select>\\n                          </div>\\n                        </div>\\n                      </div>\\n                    </div>\\n\\n                    <div class=\\\"input-group mb-2 mr-sm-4\\\">\\n                      <div class=\\\"form-sample\\\">\\n                        <div class=\\\"row\\\">\\n                          <div class=\\\"col-md-6\\\">\\n                            <label style=\\\"color: black;\\\">Item type</label>\\n                            <select (change)=\\\"filter_history('item')\\\" [(ngModel)]=\\\"item_filter\\\" class=\\\"form-control\\\">\\n                              <option value=\\\"\\\">Filter by item type</option>\\n                              <option value=\\\"Gas\\\">Gas</option>\\n                              <option value=\\\"Accessory\\\">Accessory</option>\\n                            </select>\\n                          </div>\\n                        </div>\\n                      </div>\\n                    </div>\\n\\n                    <div class=\\\"input-group mb-2 mr-sm-4\\\">\\n                      <div class=\\\"form-sample\\\">\\n                        <div class=\\\"row\\\">\\n                          <div class=\\\"col-md-6\\\">\\n                            <label style=\\\"color: black;\\\">Sales type</label>\\n                            <select (change)=\\\"filter_history('sale')\\\" [(ngModel)]=\\\"sale_filter\\\" class=\\\"form-control\\\">\\n                              <option value=\\\"\\\">Filter by sale type</option>\\n                              <option value=\\\"\\\">All types</option>\\n                              <option value=\\\"Retail\\\">Retail</option>\\n                              <option value=\\\"Wholesale\\\">Wholesale</option>\\n                              <option value=\\\"Discount\\\">Discount</option>\\n                            </select>\\n                          </div>\\n                        </div>\\n                      </div>\\n                    </div>\\n\\n\\n                    <div class=\\\"input-group mb-2 mr-sm-4\\\">\\n\\n                      <div class=\\\"form-sample\\\">\\n                        <div class=\\\"row\\\">\\n                          <div class=\\\"col-md-6\\\">\\n                            <label style=\\\"color: black;\\\">Customer</label>\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"cusd\\\"\\n                              (change)=\\\"filter_history('cus')\\\" />\\n                          </div>\\n                        </div>\\n\\n\\n\\n\\n\\n                      </div>\\n                    </div>\\n\\n                    <div class=\\\"input-group mb-2 mr-sm-4\\\">\\n\\n                      <div class=\\\"form-sample\\\">\\n                        <div class=\\\"row\\\">\\n                          <div class=\\\"col-md-6\\\">\\n                            <label style=\\\"color: black;\\\">Kg</label>\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"cuskg\\\"\\n                              (change)=\\\"filter_history('cuskg')\\\" />\\n                          </div>\\n                        </div>\\n\\n\\n\\n\\n\\n                      </div>\\n                    </div>\\n                  </div>\\n                  <table class=\\\"table table-bordered table-responsive\\\">\\n                    <thead>\\n                      <tr>\\n                        <th> User </th>\\n                        <th> Type </th>\\n                        <th> Item / KG </th>\\n                        <th> Quantity </th>\\n                        <th> Price </th>\\n                        <th> Total </th>\\n                        <th> Customer name </th>\\n                        <th> Customer phone </th>\\n                        <th> Amount tendered </th>\\n                        <th> Change </th>\\n                        <th> Ref </th>\\n                        <th> Date </th>\\n                      </tr>\\n                    </thead>\\n                    <tbody *ngFor=\\\"let entry of stored_history\\\">\\n                      <tr>\\n                        <td> {{entry.user}} </td>\\n                        <td> {{entry.type}} </td>\\n                        <td> {{entry.item}} </td>\\n                        <td> {{entry.quantity}} </td>\\n                        <td> {{entry.price}} </td>\\n                        <td> {{entry.total}} </td>\\n\\n                        <td> {{entry.cname}} </td>\\n                        <td> {{entry.cphone}} </td>\\n                        <td> {{entry.amt_ten}} </td>\\n                        <td> {{entry.chng}} </td>\\n                        <td> {{entry.ref}} </td>\\n                        <td> {{entry.createdat}} </td>\\n                      </tr>\\n                    </tbody>\\n                  </table>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n\\n\\n        </div>\\n        <!-- content-wrapper ends -->\\n      </div>\\n      <!-- main-panel ends -->\\n    </div>\\n    <!-- page-body-wrapper ends -->\\n  </div>\\n</ion-content>\";"]}