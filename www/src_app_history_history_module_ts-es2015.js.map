{"version":3,"sources":["./src/app/history/history-routing.module.ts","./src/app/history/history.module.ts","./src/app/history/history.page.ts","./src/app/history/history.page.scss","./src/app/history/history.page.html"],"names":[],"mappings":"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","file":"src_app_history_history_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HistoryPage } from './history.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HistoryPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HistoryPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HistoryPageRoutingModule } from './history-routing.module';\n\nimport { HistoryPage } from './history.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HistoryPageRoutingModule\n  ],\n  declarations: [HistoryPage]\n})\nexport class HistoryPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { RopeService } from '../rope.service';\nimport { format, parseISO } from 'date-fns';\n\n@Component({\n  selector: 'app-history',\n  templateUrl: './history.page.html',\n  styleUrls: ['./history.page.scss'],\n})\nexport class HistoryPage implements OnInit {\n\n  response: any;\n  staff_filter: string = '';\n  type_filter: string = '';\n  from: any;\n  stored_history: any;\n  to: any;\n  history = [];\n  staffs = [];\n  total = 0;\n  cusd: string = '';\n  cuskg = 0;\n  kgt = 0;\n  item_filter: string = '';\n  sale_filter: string = '';\n\n  constructor(\n    public network: RopeService\n  ) {\n\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewDidEnter() {\n    this.get_staffs();\n    this.get_history();\n  }\n\n  calc_total() {\n    this.total = 0;\n    this.kgt = 0;\n    for (var y = 0; y < this.history.length; y++) {\n      this.total += parseFloat(this.history[y]['total']);\n\n      if (this.history[y]['type'] == 'Gas') {\n        this.kgt += parseFloat(this.history[y]['item']);\n      }\n    }\n\n    this.total = Math.trunc(this.total * 100) / 100;\n  }\n\n  calc_ftotal() {\n    this.total = 0;\n    this.kgt = 0;\n    for (var y = 0; y < this.stored_history.length; y++) {\n      this.total += parseFloat(this.stored_history[y]['total']);\n\n      if (this.stored_history[y]['type'] == 'Gas') {\n        this.kgt += parseFloat(this.stored_history[y]['item']);\n      }\n    }\n\n    this.total = Math.trunc(this.total * 100) / 100;\n  }\n\n  get_staffs() {\n    this.network.get_staffs().subscribe((res: any) => {\n      // console.log(\"SUCCESS ===\",res);\n      this.staffs = res;\n      // console.log(res);\n    }, (error: any) => {\n      console.log(\"ERROR ===\", error);\n    });\n  }\n\n  groupBy(objectArray, property) {\n    return objectArray.reduce(function (acc, obj) {\n      let key = obj[property]\n      if (!acc[key]) {\n        acc[key] = []\n      }\n      acc[key].push(obj)\n      return acc\n    }, {})\n  }\n\n  get_history() {\n    this.network.get_history().subscribe((res: any) => {\n      // console.log(\"SUCCESS ===\",res);\n      this.stored_history = res;\n      this.history = this.stored_history;\n      this.calc_total();\n\n    }, (error: any) => {\n      console.log(\"ERROR ===\", error);\n    });\n  }\n\n  search_history(f, t) {\n    let data = {\n      from: format(parseISO(f), 'yyyy-MM-d'),\n      to: format(parseISO(t), 'yyyy-MM-d')\n    }\n    this.network.search_history(data).subscribe((res: any) => {\n      // console.log(\"SUCCESS ===\",res);\n      if (res == \"error\") {\n        this.response = \"email or password is wrong\";\n      } else {\n        this.stored_history = res;\n        this.history = res;\n        this.calc_total();\n        console.log(this.history);\n      }\n    }, (error: any) => {\n      console.log(\"ERROR ===\", error);\n    });\n  }\n\n\n\n  filter_history(d) {\n\n    this.stored_history = this.history;\n\n    if (this.staff_filter != '') {\n      this.stored_history = this.stored_history.filter(record => record.user === this.staff_filter);\n      // console.log(this.history);\n      this.calc_ftotal();\n    }\n\n    if (this.type_filter != '') {\n      this.stored_history = this.stored_history.filter(record => record.type === this.type_filter);\n      // console.log(this.history);\n      this.calc_ftotal();\n    }\n\n    if (this.cusd != '') {\n      this.stored_history = this.stored_history.filter(record => record.cphone === this.cusd);\n      // console.log(this.history);\n      this.calc_ftotal();\n    }\n\n    if (this.item_filter != '') {\n      this.stored_history = this.stored_history.filter(record => record.type === this.item_filter);\n      // console.log(this.history);\n      this.calc_ftotal();\n    }\n\n    if (this.sale_filter != '') {\n      this.stored_history = this.stored_history.filter(record => record.sale === this.sale_filter);\n      // console.log(this.history);\n      this.calc_ftotal();\n    }\n\n    if (this.cuskg != 0) {\n      let groupedrecord = this.groupBy(this.stored_history, 'cphone');\n      // console.log(groupedPeople);\n\n      // console.log('length = ' + Object.keys(groupedPeople).length);\n\n      const keys = Object.keys(groupedrecord);\n      let ep = [];\n\n      keys.forEach((key, index) => {\n        // console.log(`${key}: ${groupedPeople[key]}`);\n\n        let tl = 0;\n        let qt = 0;\n        let kg = 0;\n        let cname = '';\n\n        for (var i = 0; i < groupedrecord[key].length; i++) {\n          if (groupedrecord[key][i].type == 'Gas' && groupedrecord[key][i].cphone != '') {\n            tl += parseInt(groupedrecord[key][i].total);\n            qt += parseInt(groupedrecord[key][i].quantity);\n            kg += parseInt(groupedrecord[key][i].item);\n            cname = groupedrecord[key][i].cname;\n          }\n\n\n        }\n        if (kg >= this.cuskg) {\n          ep.push({ 'type': 'Gas', 'cphone': key, 'item': kg, 'quantity': qt, 'total': tl, cname: cname });\n        }\n\n        this.stored_history = ep;\n\n      });\n      this.calc_ftotal();\n    }\n  }\n\n}\n","export default \".col-md-6, .ip {\\n  margin-bottom: 9px;\\n}\\n\\n.back {\\n  padding-left: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhpc3RvcnkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7QUFDSjs7QUFDQTtFQUNJLGtCQUFBO0FBRUoiLCJmaWxlIjoiaGlzdG9yeS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29sLW1kLTYsIC5pcHtcclxuICAgIG1hcmdpbi1ib3R0b206IDlweDtcclxufVxyXG4uYmFja3tcclxuICAgIHBhZGRpbmctbGVmdDogMjBweDtcclxufSJdfQ== */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\" routerLink=\\\"/admin-dashboard\\\" routerDirection=\\\"back\\\" class=\\\"back\\\">\\n      <ion-icon name=\\\"arrow-back-outline\\\"></ion-icon>\\n      <ion-button text=\\\"\\\" icon=\\\"add\\\">BACK</ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"container-scroller\\\">\\n    <!-- partial:partials/_navbar.html -->\\n\\n    <!-- partial -->\\n    <div class=\\\"container-fluid page-body-wrapper\\\" style=\\\"min-height: 700px;\\\">\\n      <!-- partial:partials/_sidebar.html -->\\n\\n      <!-- partial -->\\n      <div class=\\\"main-panel\\\" style=\\\"width:100%;\\\">\\n        <div class=\\\"content-wrapper\\\" style=\\\"padding: 0px !important;\\\">\\n\\n\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"card\\\">\\n                <div class=\\\"card-body\\\" style=\\\"padding-right: 10px !important;padding-left: 10px !important;\\\">\\n                  <h4 class=\\\"card-title\\\">Search Records</h4>\\n\\n                  <div class=\\\"form-sample\\\">\\n                    <p class=\\\"red\\\" style=\\\"color:red;\\\">{{response}}</p>\\n                    <div class=\\\"row\\\">\\n                      <div class=\\\"col-md-6\\\">\\n                        <ion-item>\\n                          <ion-label>DD MM YY</ion-label>\\n                          <ion-datetime [(ngModel)]=\\\"from\\\" displayFormat=\\\"D-MM-YYYY\\\" min=\\\"2021\\\"></ion-datetime>\\n                        </ion-item>\\n                      </div>\\n                      <div class=\\\"col-md-6\\\">\\n                        <ion-item>\\n                          <ion-label>DD MM YY</ion-label>\\n                          <ion-datetime [(ngModel)]=\\\"to\\\" displayFormat=\\\"D-MM-YYYY\\\" min=\\\"2021\\\"></ion-datetime>\\n                        </ion-item>\\n                      </div>\\n\\n                      <div class=\\\"col-md-6\\\">\\n                        <ion-button (click)=\\\"search_history(from, to)\\\" color=\\\"primary\\\">SEARCH\\n                        </ion-button>\\n                      </div>\\n                    </div>\\n\\n\\n\\n\\n\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n\\n\\n\\n\\n\\n            <div class=\\\"col-lg-12 grid-margin stretch-card\\\">\\n              <div class=\\\"card\\\">\\n                <div class=\\\"card-body\\\" style=\\\"padding-right: 10px !important;padding-left: 10px !important;\\\">\\n\\n\\n                  <ion-list>\\n                    <ion-item>\\n                    <ion-label class=\\\"ion-text-wrap\\\">\\n                      <ion-text color=\\\"primary\\\">\\n                        <h3>Total NGN:</h3>\\n                      </ion-text>\\n                      <p>{{total}}</p>\\n                    </ion-label>\\n                    </ion-item>\\n\\n                    <ion-item>\\n                      <ion-label class=\\\"ion-text-wrap\\\">\\n                        <ion-text color=\\\"primary\\\">\\n                          <h3>Total KG:</h3>\\n                        </ion-text>\\n                        <p>{{kgt}}</p>\\n                      </ion-label>\\n                      </ion-item>\\n                  </ion-list>\\n                  <h4 class=\\\"card-title\\\">Records</h4>\\n                  <div class=\\\"form-inline\\\">\\n\\n                    <div class=\\\"input-group mb-2 mr-sm-4\\\">\\n                      <div class=\\\"form-sample\\\">\\n                        <div class=\\\"row\\\">\\n                          <div class=\\\"col-md-6\\\">\\n                            <label style=\\\"color: black;\\\">Staff</label>\\n                            <select (change)=\\\"filter_history('staff')\\\" [(ngModel)]=\\\"staff_filter\\\" class=\\\"form-control\\\"\\n                              id=\\\"inlineFormInputGroupUsername2\\\">\\n                              <option>Filter by staff</option>\\n                              <option value=\\\"\\\">All staffs</option>\\n                              <option value=\\\"Admin\\\">Admin</option>\\n                              <option *ngFor=\\\"let staff of staffs\\\" value=\\\"{{staff.id}}\\\">{{staff.fname}} {{staff.lname}}\\n                              </option>\\n                            </select>\\n                          </div>\\n                        </div>\\n                      </div>\\n                    </div>\\n\\n                    <div class=\\\"input-group mb-2 mr-sm-4\\\">\\n                      <div class=\\\"form-sample\\\">\\n                        <div class=\\\"row\\\">\\n                          <div class=\\\"col-md-6\\\">\\n                            <label style=\\\"color: black;\\\">Item type</label>\\n                            <select (change)=\\\"filter_history('item')\\\" [(ngModel)]=\\\"item_filter\\\" class=\\\"form-control\\\">\\n                              <option value=\\\"\\\">Filter by item type</option>\\n                              <option value=\\\"Gas\\\">Gas</option>\\n                              <option value=\\\"Accessory\\\">Accessory</option>\\n                            </select>\\n                          </div>\\n                        </div>\\n                      </div>\\n                    </div>\\n\\n                    <div class=\\\"input-group mb-2 mr-sm-4\\\">\\n                      <div class=\\\"form-sample\\\">\\n                        <div class=\\\"row\\\">\\n                          <div class=\\\"col-md-6\\\">\\n                            <label style=\\\"color: black;\\\">Sales type</label>\\n                            <select (change)=\\\"filter_history('sale')\\\" [(ngModel)]=\\\"sale_filter\\\" class=\\\"form-control\\\">\\n                              <option value=\\\"\\\">Filter by sale type</option>\\n                              <option value=\\\"\\\">All types</option>\\n                              <option value=\\\"Retail\\\">Retail</option>\\n                              <option value=\\\"Wholesale\\\">Wholesale</option>\\n                              <option value=\\\"Discount\\\">Discount</option>\\n                            </select>\\n                          </div>\\n                        </div>\\n                      </div>\\n                    </div>\\n\\n\\n                    <div class=\\\"input-group mb-2 mr-sm-4\\\">\\n\\n                      <div class=\\\"form-sample\\\">\\n                        <div class=\\\"row\\\">\\n                          <div class=\\\"col-md-6\\\">\\n                            <label style=\\\"color: black;\\\">Customer</label>\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"cusd\\\"\\n                              (change)=\\\"filter_history('cus')\\\" />\\n                          </div>\\n                        </div>\\n\\n\\n\\n\\n\\n                      </div>\\n                    </div>\\n\\n                    <div class=\\\"input-group mb-2 mr-sm-4\\\">\\n\\n                      <div class=\\\"form-sample\\\">\\n                        <div class=\\\"row\\\">\\n                          <div class=\\\"col-md-6\\\">\\n                            <label style=\\\"color: black;\\\">Kg</label>\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"cuskg\\\"\\n                              (change)=\\\"filter_history('cuskg')\\\" />\\n                          </div>\\n                        </div>\\n\\n\\n\\n\\n\\n                      </div>\\n                    </div>\\n                  </div>\\n                  <table class=\\\"table table-bordered table-responsive\\\">\\n                    <thead>\\n                      <tr>\\n                        <th> User </th>\\n                        <th> Type </th>\\n                        <th> Item / KG </th>\\n                        <th> Quantity </th>\\n                        <th> Price </th>\\n                        <th> Total </th>\\n                        <th> Customer name </th>\\n                        <th> Customer phone </th>\\n                        <th> Amount tendered </th>\\n                        <th> Change </th>\\n                        <th> Ref </th>\\n                        <th> Date </th>\\n                      </tr>\\n                    </thead>\\n                    <tbody *ngFor=\\\"let entry of stored_history\\\">\\n                      <tr>\\n                        <td> {{entry.user}} </td>\\n                        <td> {{entry.type}} </td>\\n                        <td> {{entry.item}} </td>\\n                        <td> {{entry.quantity}} </td>\\n                        <td> {{entry.price}} </td>\\n                        <td> {{entry.total}} </td>\\n\\n                        <td> {{entry.cname}} </td>\\n                        <td> {{entry.cphone}} </td>\\n                        <td> {{entry.amt_ten}} </td>\\n                        <td> {{entry.chng}} </td>\\n                        <td> {{entry.ref}} </td>\\n                        <td> {{entry.createdat}} </td>\\n                      </tr>\\n                    </tbody>\\n                  </table>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n\\n\\n        </div>\\n        <!-- content-wrapper ends -->\\n      </div>\\n      <!-- main-panel ends -->\\n    </div>\\n    <!-- page-body-wrapper ends -->\\n  </div>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}