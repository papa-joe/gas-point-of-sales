{"version":3,"sources":["./src/app/staff-dashboard/staff-dashboard-routing.module.ts","./src/app/staff-dashboard/staff-dashboard.module.ts","./src/app/staff-dashboard/staff-dashboard.page.ts","./src/app/staff-dashboard/staff-dashboard.page.scss","./src/app/staff-dashboard/staff-dashboard.page.html"],"names":[],"mappings":"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","file":"src_app_staff-dashboard_staff-dashboard_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { StaffDashboardPage } from './staff-dashboard.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StaffDashboardPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class StaffDashboardPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { StaffDashboardPageRoutingModule } from './staff-dashboard-routing.module';\n\nimport { StaffDashboardPage } from './staff-dashboard.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    StaffDashboardPageRoutingModule\n  ],\n  declarations: [StaffDashboardPage]\n})\nexport class StaffDashboardPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { RopeService } from '../rope.service';\nimport { LoadingController } from '@ionic/angular';\nimport { format, parseISO } from 'date-fns';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-staff-dashboard',\n  templateUrl: './staff-dashboard.page.html',\n  styleUrls: ['./staff-dashboard.page.scss'],\n})\nexport class StaffDashboardPage implements OnInit {\n  gas_value: any;\n  userid: any;\n  staff_name: any;\n  staff_position: any;\n  from: any;\n  stored_history: any;\n  to: any;\n  history = [];\n  sync_history = [];\n  total = 0;\n  kgt = 0;\n  rst = 0;\n  wst = 0;\n  dst = 0;\n  bres: any;\n  gres: any;\n  sale_filter: string = '';\n  item_filter: string = '';\n  isLoading = false;\n  sync_res= '';\n  sync_h: any;\n  ogas_value: any;\n  sync_g: string;\n  ogres: string;\n  gas: string;\n\n  constructor(\n    public network: RopeService,\n    public loadingController: LoadingController,\n    private router: Router\n  ) {\n    this.userid = JSON.parse(localStorage.getItem('userid'));\n    // console.log(this.userid);\n  }\n\n  ngOnInit() {\n  }\n\n  async present() {\n    this.isLoading = true;\n    return await this.loadingController.create({\n      // duration: 5000,\n    }).then(a => {\n      a.present().then(() => {\n        // console.log('presented');\n        if (!this.isLoading) {\n          a.dismiss().then(() => console.log('abort presenting'));\n        }\n      });\n    });\n  }\n\n  async dismiss() {\n    this.isLoading = false;\n    return await this.loadingController.dismiss().then(() => console.log('dismissed'));\n  }\n\n  ionViewDidEnter() {\n    this.get_gas_value();\n    this.get_staff_details();\n    this.get_shistory();\n    this.get_sync_history();\n    this.get_gas_value_online();\n  }\n\n  calc_total() {\n    this.total = 0;\n    this.kgt = 0;\n    for (var y = 0; y < this.history.length; y++) {\n      this.total += parseFloat(this.history[y]['total']);\n\n      if (this.history[y]['type'] == 'Gas') {\n        this.kgt += parseFloat(this.history[y]['item']);\n      }\n    }\n  }\n\n  calc_ftotal() {\n    this.total = 0;\n    this.kgt = 0;\n    for (var y = 0; y < this.stored_history.length; y++) {\n      this.total += parseFloat(this.stored_history[y]['total']);\n\n      if (this.stored_history[y]['type'] == 'Gas') {\n        this.kgt += parseFloat(this.stored_history[y]['item']);\n      }\n    }\n  }\n\n  get_gas_value() {\n    this.network.get_gas_value().subscribe((res: any) => {\n      // console.log(\"SUCCESS ===\",res);\n      // console.log(res);\n      let gasv = res[0];\n      this.gas_value = gasv.val;\n    }, (error: any) => {\n      console.log(\"ERROR ===\", error);\n    });\n  }\n\n  get_gas_value_online(){\n    this.network.get_gas_value_online().subscribe((res:any) => {\n      // console.log(\"SUCCESS ===\",res);\n      // console.log(res);\n      let gasv = res[0];\n      this.ogas_value = gasv.val;\n\n      if(gasv.sync == 'No'){\n        this.sync_g = \"true\";\n      }\n    },(error: any) => {\n      // console.log(\"ERROR ===\",error);\n      this.ogres = \"Check internet connection\";\n    });\n  }\n\n  sync_gas(){\n    this.network.sync_gas_online().subscribe((res:any) => {\n      // console.log(\"SUCCESS ===\",res);\n      // console.log(res);\n\n      if(res == 'success'){\n        this.sync_g = \"false\";\n        let data = {\n          gas: this.ogas_value\n        }\n        this.network.edit_g(data).subscribe((res:any) => {\n          // console.log(\"SUCCESS ===\",res);\n          if(res == \"bad\"){\n            this.bres = \"Something went wrong, please try again\";\n          }else{\n            this.gres = 'success';\n            this.gas = '';\n            this.get_gas_value();\n          }\n        },(error: any) => {\n          this.bres = \"Something went wrong\";\n        });\n      }else{\n        this.ogres = \"Something went wrong, please try again\";\n      }\n    },(error: any) => {\n      this.ogres = \"Check internet connection\";\n      // console.log(\"ERROR ===\",error);\n    });\n  }\n\n  get_staff_details() {\n    this.network.get_staff(this.userid).subscribe((res: any) => {\n      // console.log(\"SUCCESS ===\",res);\n      // console.log(res);\n      let staff = res[0];\n      this.staff_name = staff.fname + ' ' + staff.lname;\n      this.staff_position = staff.position;\n    }, (error: any) => {\n      console.log(\"ERROR ===\", error);\n    });\n  }\n\n  get_shistory() {\n    this.network.get_shistory(this.userid).subscribe((res: any) => {\n      // console.log(\"SUCCESS ===\",res);\n      this.stored_history = res;\n      this.history = this.stored_history;\n      this.calc_total();\n      // console.log(res);\n    }, (error: any) => {\n      console.log(\"ERROR ===\", error);\n    });\n  }\n\n  get_sync_history() {\n    this.network.get_sync_history(this.userid).subscribe((res: any) => {\n      this.sync_history = res;\n      if(this.sync_history.length <= 0){\n        this.sync_res = \"Nothing to sync\";\n        this.sync_h = \"true\";\n      }else{\n        this.sync_res = \"Something to sync\";\n        this.sync_h = \"false\";\n      }\n    }, (error: any) => {\n      this.sync_res = \"Check network availability\";\n    });\n  }\n\n  sync_db(){\n    let data = {\n      db:this.sync_history,\n      table:'history'\n    }\n    this.network.sync_db(data).subscribe((res: any) => {\n      if(res = \"success\"){\n        this.sync_local();\n        this.sync_res = \"Data synced\";\n      }else{\n        this.sync_res = \"Data did not sync\";\n      }\n    }, (error: any) => {\n      this.sync_res = \"Check network availability\";\n    });\n  }\n\n  sync_local(){\n    this.network.sync_local(this.userid).subscribe((res: any) => {\n      if(res = \"success\"){\n        this.sync_res = \"Nothing to sync\";\n      }else{\n        this.sync_res = \"Something to sync\";\n      }\n    }, (error: any) => {\n      this.sync_res = \"Check network availability\";\n    });\n  }\n\n\n\n  search_shistory(f, t) {\n    this.present();\n    let data = {\n      from: format(parseISO(f), 'yyyy-MM-d'),\n      to: format(parseISO(t), 'yyyy-MM-d'),\n      u: this.userid\n    }\n    this.network.search_shistory(data).subscribe((res: any) => {\n      // console.log(\"SUCCESS ===\",res);\n      if (res == \"error\") {\n        this.bres = \"email or password is wrong\";\n        this.dismiss();\n      } else {\n        this.stored_history = res;\n        this.history = res;\n        this.calc_total();\n        this.dismiss();\n      }\n    }, (error: any) => {\n      console.log(\"ERROR ===\", error);\n      this.dismiss();\n    });\n  }\n\n\n  filter_history(d) {\n\n    this.stored_history = this.history;\n\n    if (this.sale_filter != '') {\n      this.stored_history = this.stored_history.filter(record => record.sale === this.sale_filter);\n      // console.log(this.history);\n      this.calc_ftotal();\n    }\n\n    if (this.item_filter != '') {\n      this.stored_history = this.stored_history.filter(record => record.type === this.item_filter);\n      // console.log(this.history);\n      this.calc_ftotal();\n    }\n  }\n\n  logout() {\n    localStorage.clear();\n    this.router.navigate(['/home'])\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzdGFmZi1kYXNoYm9hcmQucGFnZS5zY3NzIn0= */\";","export default \"<ion-content>\\n  <div class=\\\"container-scroller\\\">\\n    <!-- partial:partials/_navbar.html -->\\n\\n    <!-- partial -->\\n    <div class=\\\"container-fluid page-body-wrapper\\\" style=\\\"min-height: 800px;\\\">\\n      <!-- partial:partials/_sidebar.html -->\\n      <nav class=\\\"sidebar sidebar-offcanvas\\\" id=\\\"sidebar\\\">\\n        <ul class=\\\"nav\\\">\\n          <li class=\\\"nav-item nav-profile\\\">\\n            <a [routerLink]=\\\"['/staffs']\\\" class=\\\"nav-link\\\">\\n              <div class=\\\"nav-profile-image\\\">\\n                <img src=\\\"assets/images/faces/pic-1.png\\\" alt=\\\"profile\\\">\\n                <span class=\\\"login-status online\\\"></span>\\n                <!--change to offline or busy as needed-->\\n              </div>\\n              <div class=\\\"nav-profile-text d-flex flex-column\\\">\\n                <span class=\\\"font-weight-bold mb-2\\\">{{staff_name}}</span>\\n                <span class=\\\"text-secondary text-small\\\">{{staff_position}}</span>\\n              </div>\\n            </a>\\n          </li>\\n          <li class=\\\"nav-item\\\">\\n            <a class=\\\"nav-link\\\" [routerLink]=\\\"['/gas-sales']\\\">\\n              <span class=\\\"menu-title\\\">Sales</span>\\n              <i class=\\\"mdi mdi-chart-bar menu-icon\\\"></i>\\n            </a>\\n          </li>\\n          <li class=\\\"nav-item\\\">\\n            <a class=\\\"nav-link\\\" [routerLink]=\\\"['/home']\\\">\\n              <span class=\\\"menu-title\\\">Logout</span>\\n              <i class=\\\"mdi mdi-chevron-double-right menu-icon\\\"></i>\\n            </a>\\n          </li>\\n        </ul>\\n      </nav>\\n      <!-- partial -->\\n      <div class=\\\"main-panel\\\">\\n        <div class=\\\"content-wrapper\\\">\\n\\n          <div class=\\\"page-header\\\">\\n            <h3 class=\\\"page-title\\\">\\n              <span class=\\\"page-title-icon bg-gradient-primary text-white mr-2\\\">\\n                <i class=\\\"mdi mdi-home\\\"></i>\\n              </span> Dashboard\\n            </h3>\\n            <nav aria-label=\\\"breadcrumb\\\">\\n              <ul class=\\\"breadcrumb\\\">\\n                <li class=\\\"breadcrumb-item active\\\" aria-current=\\\"page\\\">\\n                  <span></span>Overview <i class=\\\"mdi mdi-alert-circle-outline icon-sm text-primary align-middle\\\"></i>\\n                </li>\\n              </ul>\\n            </nav>\\n          </div>\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-md-4 stretch-card grid-margin\\\">\\n              <div class=\\\"card bg-gradient-success card-img-holder text-white\\\">\\n                <div class=\\\"card-body\\\">\\n                  <img src=\\\"assets/images/dashboard/circle.svg\\\" class=\\\"card-img-absolute\\\" alt=\\\"circle-image\\\" />\\n                  <h4 class=\\\"font-weight-normal mb-3\\\">Gas Available <i class=\\\"mdi mdi-diamond mdi-24px float-right\\\"></i>\\n                  </h4>\\n                  <h2 class=\\\"mb-5\\\">{{gas_value}} KG</h2>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <div class=\\\"col-md-12\\\">\\n\\n              <ion-button *ngIf=\\\"sync_g == 'true'\\\" (click)=\\\"sync_gas()\\\" color=\\\"primary\\\">SYNC LOCAL TO LIVE</ion-button>\\n              <p style=\\\"color:red;\\\">{{ogres}}</p>\\n            </div>\\n\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"card\\\">\\n                <div class=\\\"card-body\\\">\\n                  <h4 class=\\\"card-title\\\">Search Records</h4>\\n\\n                  <div class=\\\"form-sample\\\">\\n                    <p class=\\\"red\\\" style=\\\"color:red;\\\"></p>\\n                    <div class=\\\"row\\\">\\n                      <div class=\\\"col-md-6\\\">\\n                        <ion-item>\\n                          <ion-label>MM DD YY</ion-label>\\n                          <ion-datetime [(ngModel)]=\\\"from\\\" displayFormat=\\\"D-MM-YYYY\\\" min=\\\"2021\\\"></ion-datetime>\\n                        </ion-item>\\n                      </div>\\n                      <div class=\\\"col-md-6\\\">\\n                        <ion-item>\\n                          <ion-label>MM DD YY</ion-label>\\n                          <ion-datetime [(ngModel)]=\\\"to\\\" displayFormat=\\\"D-MM-YYYY\\\" min=\\\"2021\\\"></ion-datetime>\\n                        </ion-item>\\n                      </div>\\n\\n                      <div class=\\\"col-md-6\\\">\\n                        <ion-button (click)=\\\"search_shistory(from, to)\\\" color=\\\"primary\\\">SEARCH\\n                        </ion-button>\\n                      </div>\\n                    </div>\\n\\n                    <div class=\\\"row\\\">\\n                      <div class=\\\"col-md-6\\\">\\n                        \\n                        <ion-button *ngIf=\\\"sync_h == 'false'\\\" (click)=\\\"sync_db()\\\" color=\\\"primary\\\">SYNC DATABASE\\n                        </ion-button>\\n                        <p><small style=\\\"color: black;\\\">{{sync_res}}</small></p>\\n                      </div>\\n                    </div>\\n\\n\\n\\n\\n\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <div class=\\\"col-md-12 grid-margin stretch-card\\\">\\n              <div class=\\\"card\\\">\\n                <div class=\\\"card-body\\\">\\n                  <h4 class=\\\"card-title\\\">Records<span style=\\\"float: right;\\\"><strong>TOtal: </strong> {{total}}<strong>\\n                        Total KG: </strong> {{kgt}}</span></h4>\\n                  <div class=\\\"form-inline\\\">\\n\\n                    <div class=\\\"input-group mb-2 mr-sm-4\\\">\\n                      <div class=\\\"form-sample\\\">\\n                        <div class=\\\"row\\\">\\n                          <div class=\\\"col-md-6\\\">\\n                            <label style=\\\"color: black;\\\">Sales type</label>\\n                            <select (change)=\\\"filter_history('sale')\\\" [(ngModel)]=\\\"sale_filter\\\" class=\\\"form-control\\\">\\n                              <option value=\\\"\\\">Filter by sale type</option>\\n                              <option value=\\\"\\\">All types</option>\\n                              <option value=\\\"Retail\\\">Retail</option>\\n                              <option value=\\\"Wholesale\\\">Wholesale</option>\\n                              <option value=\\\"Discount\\\">Discount</option>\\n                            </select>\\n                          </div>\\n                        </div>\\n                      </div>\\n                    </div>\\n\\n\\n                    <div class=\\\"input-group mb-2 mr-sm-4\\\">\\n                      <div class=\\\"form-sample\\\">\\n                        <div class=\\\"row\\\">\\n                          <div class=\\\"col-md-6\\\">\\n                            <label style=\\\"color: black;\\\">Item type</label>\\n                            <select (change)=\\\"filter_history('item')\\\" [(ngModel)]=\\\"item_filter\\\" class=\\\"form-control\\\">\\n                              <option value=\\\"\\\">Filter by item type</option>\\n                              <option value=\\\"Gas\\\">Gas</option>\\n                              <option value=\\\"Accessory\\\">Accessory</option>\\n                            </select>\\n                          </div>\\n                        </div>\\n                      </div>\\n                    </div>\\n\\n\\n\\n                  </div>\\n\\n                  <div class=\\\"table-responsive\\\">\\n                    <table class=\\\"table\\\">\\n                      <thead>\\n                        <tr>\\n                          <th> User </th>\\n                          <th> Type </th>\\n                          <th> Item </th>\\n                          <th> Quantity </th>\\n                          <th> Price </th>\\n                          <th> Total </th>\\n                          <th> Customer name </th>\\n                          <th> Customer phone </th>\\n                          <th> Amount tendered </th>\\n                          <th> Change </th>\\n                          <th> Ref </th>\\n                          <th> Date </th>\\n                        </tr>\\n                      </thead>\\n                      <tbody *ngFor=\\\"let entry of stored_history\\\">\\n                        <tr>\\n                          <td> {{entry.user}} </td>\\n                          <td> {{entry.type}} </td>\\n                          <td> {{entry.item}} </td>\\n                          <td> {{entry.quantity}} </td>\\n                          <td> {{entry.price}} </td>\\n                          <td> {{entry.total}} </td>\\n\\n                          <td> {{entry.cname}} </td>\\n                          <td> {{entry.cphone}} </td>\\n                          <td> {{entry.amt_ten}} </td>\\n                          <td> {{entry.chng}} </td>\\n                          <td> {{entry.ref}} </td>\\n                          <td> {{entry.createdat}} </td>\\n                        </tr>\\n                      </tbody>\\n                    </table>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n        </div>\\n        <!-- content-wrapper ends -->\\n      </div>\\n      <!-- main-panel ends -->\\n    </div>\\n    <!-- page-body-wrapper ends -->\\n  </div>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}